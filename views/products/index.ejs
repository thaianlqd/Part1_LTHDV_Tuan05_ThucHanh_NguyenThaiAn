<%- include("../partials/header") %>

<div class="container my-4">
  <div class="card shadow">
    <div class="card-body">
      <h2 class="text-center mb-4 text-dark">Danh s√°ch S·∫£n ph·∫©m</h2>
      
      <div class="mb-3 text-end">
        <a href="/products/new" class="btn btn-success">‚ûï Th√™m m·ªõi</a>
      </div>

      <div class="table-responsive">
        <table class="table table-bordered table-hover text-center align-middle mb-0">
          <thead class="table-light">
            <tr>
              <th>T√™n</th>
              <th>Gi√°</th>
              <th>S·ªë l∆∞·ª£ng</th>
              <th>Nh√† cung c·∫•p</th>
              <th>H√†nh ƒë·ªông</th>
            </tr>
          </thead>
          <tbody>
            <% if (products.length === 0) { %>
              <tr><td colspan="5">Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o.</td></tr>
            <% } %>
            <% products.forEach(p => { %>
              <tr>
                <td><%= p.name %></td>
                <td><%= p.price != null ? p.price : "" %></td>
                <td><%= p.quantity != null ? p.quantity : "" %></td>
                <td><%= p.supplier ? p.supplier.name : "‚Äî" %></td>
                <td class="d-flex justify-content-center gap-2">
                  <a href="/products/<%= p._id %>/edit" class="btn btn-primary btn-sm">‚úèÔ∏è S·ª≠a</a>
                  <form action="/products/<%= p._id %>?_method=DELETE" method="POST" class="d-inline">
                    <button type="submit" class="btn btn-danger btn-sm" data-confirm>üóëÔ∏è X√≥a</button>
                  </form>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<%- include("../partials/footer") %>
